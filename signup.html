<!doctype html>
<html lang="en">
  <head>
    <title>Sign Up - owntheSTREETS</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS -->
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
      crossorigin="anonymous"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="bg-black text-gray-900 flex flex-col min-h-screen">
    <!-- Announcement Bar -->
    <div class="bg-black border-b border-gray-800 overflow-hidden">
      <!-- Same announcement as login/index -->
      <div
        class="announcement-slide whitespace-nowrap py-2 text-center text-sm font-bold text-white"
      >
        <span class="inline-block px-8">FREE SHIPPING ON ORDERS $50+</span>
        <span class="inline-block px-8">|</span>
        <span class="inline-block px-8">HOLIDAY SALE - UP TO 40% OFF</span>
      </div>
    </div>

    <!-- Navigation -->
    <nav
      id="navbar"
      class="sticky top-0 z-50 bg-black text-white transition-all duration-300"
    >
      <div class="container mx-auto px-4">
        <div class="flex items-center justify-between gap-3 py-3 sm:py-4">
          <!-- Logo -->
          <div class="flex items-center min-w-0">
            <a
              href="index.html"
              class="text-lg sm:text-xl md:text-2xl lg:text-3xl font-black tracking-tight truncate"
            >
              owntheSTREETS
            </a>
          </div>

          <!-- Desktop Navigation -->
          <div class="hidden lg:flex items-center space-x-8">
            <a
              href="index.html"
              class="hover:text-gray-300 transition font-medium"
              >HOME</a
            >
            <a
              href="catalog.html"
              class="hover:text-gray-300 transition font-medium"
              >CATALOG</a
            >
          </div>
        </div>
      </div>
    </nav>

    <!-- Signup Section -->
    <section
      class="flex-grow flex items-center justify-center bg-black text-white py-20 px-4"
    >
      <div class="w-full max-w-md space-y-8">
        <div class="text-center">
          <h2 class="text-3xl font-black tracking-tight">CREATE ACCOUNT</h2>
          <p class="mt-2 text-sm text-gray-400">Join the movement</p>
        </div>

        <form class="mt-8 space-y-6" id="signup-form">
          <div class="space-y-4">
            <div>
              <label for="name" class="sr-only">Full Name</label>
              <input
                id="name"
                name="name"
                type="text"
                autocomplete="name"
                required
                class="appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-900 placeholder-gray-500 text-white focus:outline-none focus:ring-white focus:border-white focus:z-10 sm:text-sm"
                placeholder="Full Name"
              />
            </div>
            <div>
              <label for="email" class="sr-only">Email address</label>
              <input
                id="email"
                name="email"
                type="email"
                autocomplete="email"
                required
                class="appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-900 placeholder-gray-500 text-white focus:outline-none focus:ring-white focus:border-white focus:z-10 sm:text-sm"
                placeholder="Email address"
              />
            </div>
            <div>
              <label for="password" class="sr-only">Password</label>
              <input
                id="password"
                name="password"
                type="password"
                autocomplete="new-password"
                required
                class="appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-900 placeholder-gray-500 text-white focus:outline-none focus:ring-white focus:border-white focus:z-10 sm:text-sm"
                placeholder="Password"
              />
            </div>
            <div>
              <label for="confirm-password" class="sr-only"
                >Confirm Password</label
              >
              <input
                id="confirm-password"
                name="confirm-password"
                type="password"
                autocomplete="new-password"
                required
                class="appearance-none rounded-none relative block w-full px-3 py-3 border border-gray-700 bg-gray-900 placeholder-gray-500 text-white focus:outline-none focus:ring-white focus:border-white focus:z-10 sm:text-sm"
                placeholder="Confirm Password"
              />
            </div>
          </div>

          <div>
            <button
              type="submit"
              class="group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-full text-black bg-white hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-white transition-colors"
            >
              CREATE ACCOUNT
            </button>
          </div>

          <div
            id="signup-error"
            class="text-red-500 text-sm text-center hidden"
          ></div>
        </form>

        <div class="text-center text-sm text-gray-400">
          Already have an account?
          <a
            href="login.html"
            class="font-medium text-white hover:underline underline-offset-4"
            >Sign in</a
          >
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="bg-black text-white py-12 border-t border-gray-800">
      <div class="container mx-auto px-4 text-center text-gray-400 text-sm">
        <p>Â© 2024 owntheSTREETS Co., LLC. All Rights Reserved.</p>
      </div>
    </footer>

    <!-- Supabase JS Client -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.39.3/dist/umd/supabase.min.js"></script>
    <script src="supabase-client.js"></script>
    <script src="utils.js"></script>
    <script>
      document
        .getElementById("signup-form")
        .addEventListener("submit", async (e) => {
          e.preventDefault();
          const name = document.getElementById("name").value;
          const email = document.getElementById("email").value;
          const password = document.getElementById("password").value;
          const confirmPassword =
            document.getElementById("confirm-password").value;

          if (password !== confirmPassword) {
            const errorEl = document.getElementById("signup-error");
            errorEl.textContent = "Passwords do not match";
            errorEl.classList.remove("hidden");
            return;
          }

          const result = await Auth.signup(name, email, password);

          if (result.success) {
            window.location.href = "profile.html";
          } else {
            const errorEl = document.getElementById("signup-error");
            errorEl.textContent = result.message;
            errorEl.classList.remove("hidden");
          }
        });
    </script>
  </body>
</html>
